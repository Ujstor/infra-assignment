
```bash
cassandra@cqlsh:store> ALTER KEYSPACE system_auth WITH REPLICATION= {'class' : 'SimpleStrategy','replication_factor' : 3 };

Warnings :
When increasing replication factor you need to run a full (-full) repair to distribute the data.
```

```bash
 kubectl exec pod/cassandra-2 -- nodetool repair --full system_auth
[2024-04-28 17:39:42,397] Starting repair command #1 (4b94bc50-0586-11ef-8773-799c6a82cf83), repairing keyspace system_auth with repair options (parallelism: parallel, primary range: false, incremental: false, job threads: 1, ColumnFamilies: [], dataCenters: [], hosts: [], previewKind: NONE, # of ranges: 768, pull repair: false, force repair: false, optimise streams: false, ignore unreplicated keyspaces: false)
[2024-04-28 17:40:01,121] Repair session 4c699880-0586-11ef-8773-799c6a82cf83 for range [(-7917256887100022007,-7887692307749440622], (1646613666606505770,1672425173105940076], (6656172914717735510,6674664235513781581], (-8387173885271997239,-8361386107283972343], (-281577642807610773,-257316900285623738], (187590090169465987,204817435808169926], (5935240770063423216,5950883285960859579], (3374075430159112072,3408403464723168851], (7722614846350070515,7748249726968029636], (6477004254419780618,6492458865906191872], (-222487794408820162,-199396195925608087], (-1212956385673082168,-1193275823411534563], (4681346025299448562,4707792070267295793], (7272658053722859231,7292727737015737615], (-6407344212408103844,-6391902200360922246], (5529154427291501877,5550908000523602127], (-9130642861896935996,-9111376806111237120], (3228268798811696735,3248856564955265318], (5626480853575959136,5650800272257641327], (8093478662532768068,8115508371238537195], (8183303949135584801,8202356099675161490], (1871805963987877337,1894143489878594651], (8725790109259500528,8750161829046567666], (2620265339858136927,2641702320191020043], (-6237556807461034163,-6206352462649133325], (1200656734320837523,1224483676084840138], (5280391758941356472,5303337346119182935], (7748249726968029636,7767989590722755341], (-3579150596596259750,-3547360768399475973], (-4364791251585636876,-4334344066600876172], (-4991985762050115651,-4972921673253515141], (4351194358481745102,4379095351486650964], (1944451602422509115,1966148232330143878], (-8530112745389910501,-8507693816265187740], (-1636414803105298996,-1612033220205628559], (4335872841383969671,4351194358481745102], (-1134599922277966915,-1118418313746937925], (6277164445616862969,6293149837948725564], (-4813172887718614764,-4796713787513749553], (2371825224843999729,2403805670764002856], (3515898104801491442,3536404975199262765], (-6518072642089650161,-6486385175704767686], (-3478138851943967139,-3446358448389999407], (7821110906882479401,7846044400142111607], (8440250751851223611,8465092006395153788], (7172494014935380820,7196370971599393536], (1966148232330143878,1982147524570134359], (3154427821039204900,3170370153372807780], (-8166592508908959641,-8149796951038737797], (-8432745001828718677,-8405785515732382711], (6492458865906191872,6521044631421765916], (-1941252636314187084,-1917488254797609585], (-2311430312693414496,-2293584958784690084], (3667708407583553246,3695228267462128255], (5855396236863801521,5888289322159511738], (-46421905694596327,-20469095501906308], (-7274287620528326219,-7243878271672833377], (4707792070267295793,4723762607396844340], (6730395375245420574,6750692248536778081], (-4672949383368976004,-4642484162017473297], (159974691482604490,187590090169465987], (8343211373983034670,8375671855212659517], (-1807333220832310510,-1784119801116710523], (-6959598130478518496,-6939363256873132111], (-3186716071259406937,-3167951815495000789], (4141814931975842892,4158003648244390353], (4922174800340051828,4942489667474283036], (-5210866511354554702,-5192044476481732371], (-3596694707946239192,-3579150596596259750], (-7830648462325856831,-7808836581932574850], (7012237063153203080,7032925564627675259], (7432307989071137263,7458859735224040273], (4835523628317673602,4855509595638332447], (108047603892181258,136996740715617908], (-2150403624821579253,-2128043381219721832], (2269590071496667552,2290798898057286441], (4158003648244390353,4193106619537910374], (1613034783341659344,1646613666606505770], (3436113669113839852,3457730620340017730], (-4067035865635695033,-4032120243005797767], (-1856142036520110378,-1838709185422237676], (-3343181219042215596,-3326070088683319321], (8886693894554314881,8910222749418113823], (-1612033220205628559,-1596304480692753803], (4445519703403680450,4469976701373835206], (6979553109136625667,7012237063153203080], (8939451912428578243,8956993001257465102], (-4032120243005797767,-4000590553338512968], (1758859103987108020,1790089214190801626], (6786099851660906318,6808506929969688201], (-803420455117264157,-782291914320674390], (2903204006403936642,2916963774108556173], (-5808911876950946164,-5785686705878473284], (8326394090059271528,8343211373983034670], (3015054840027791730,3032833286638363997], (-8790113365098591577,-8765796981827657914], (6398698869329516174,6420536839648907303], (-8238705417231725023,-8209114988054604594], (-2963892933382949137,-2931673636839744047], (136996740715617908,159974691482604490], (-6915026336404933895,-6898881138822342214], (-8022390349725426631,-8003492535365065255], (-7614437885317847664,-7592714424295499463], (3890275010262299516,3922635274816675965], (4978094541569283207,5012932790843751006], (8689084307641880337,8709598044829081824], (-2824792320821837126,-2792357805226534646], (3833842933748300743,3852838213654702168], (-2360373226916965506,-2340770858486155791], (-1417202847867394404,-1383751720274112451], (6521044631421765916,6543210403896330971], (-8983780564986606369,-8967741411988564911], (4757333212074692900,4787868116754744159], (1491749848564515578,1507237979397617145], (4892051308477300480,4922174800340051828], (9092039291958334280,9119341815009738088], (4525470443762551442,4553030224600771090], (-6444409536057083321,-6427842875330982411], (9212514047802772461,-9209301746200508995], (-8282901663097049914,-8266567563860790794], (1557308877224986437,1577852799721216574], (-6029185868729897269,-6002614390426520298], (-5543728772096563838,-5522555822408121776], (-3620288473496590469,-3596694707946239192], (4808709513485191526,4835523628317673602], (-2697031855684631730,-2671377592409383772], (-7222408362441979224,-7193290629698845854], (-7510797514109171455,-7478696321925477665], (3612123845555909072,3628374599028101328], (7155514068590728177,7172494014935380820], (-6898881138822342214,-6876975950274274175], (5733898300178643166,5754973514941615760], (-2513613790322616948,-2493145826795113906], (5698841119077789537,5733898300178643166], (-8118150707585508329,-8096430524206535577], (-5378576502650838113,-5352692878691246204], (-5952785288516897221,-5924190403993695339], (-5157536680891177079,-5122726023980819387], (4598027775733625807,4628195533310714496], (1810701435010788098,1843433525916367699], (-8678287205702749130,-8644322051793564381], (-8361386107283972343,-8342018156145146465], (3308095059840966801,3329032745029559663], (7576440397979042284,7592075626874117826], (-3291086421815757362,-3267428523526675658], (5828426565751966264,5855396236863801521], (911194185673182778,929488462461678335], (-2171360762772963386,-2150403624821579253], (281100607880832137,308872054376268675], (4488901621294515253,4511320918009908979], (4942489667474283036,4978094541569283207], (-1522446211038864335,-1500322329457741428], (5981484596598680206,6005523115137304939], (-9054354160557615682,-9036819213488799941], (-386676653570074969,-361813258412489658], (2940852561791884836,2970369575150350267], (3329032745029559663,3357045465269209998], (2992156665348626986,3015054840027791730], (3536404975199262765,3568929878615931069], (-5325376174500544075,-5308808128703366148], (-7675058480430123263,-7652925286849534526], (-3887451597355057730,-3866932734407246660], (-7193290629698845854,-7171155931173084486], (-2411782469158460273,-2386884128512053026], (2403805670764002856,2428800085409406804], (8115508371238537195,8130608164738132753], (6293149837948725564,6322780790017821416], (7090557940364446244,7106081410176703418], (-8701017207987052380,-8678287205702749130], (-6716573907522900293,-6690289970727015618], (-3388866050591282138,-3367336908205512526], (2641702320191020043,2658764744444677137], (3719280380994142092,3734898512469099791], (-7243878271672833377,-7222408362441979224], (-7808836581932574850,-7773566788173921531], (-1244728958251217502,-1212956385673082168], (8527556401517686904,8556159314373138090], (-4946794168666242608,-4926156795654782249], (2464675231957003694,2489621219351045558], (-7738163397692807742,-7713535423341397480], (-2931673636839744047,-2902195478689817525], (4723762607396844340,4757333212074692900], (-7578332339408290833,-7554918003586722974], (-7149501831669292460,-7132000696869827595], (-4642484162017473297,-4610303579120513103], (6625188088282976058,6656172914717735510], (-182093002801941797,-153431847559005242], (-3210108473089573222,-3186716071259406937], (-5438010685324977163,-5411866456022301463], (-7773566788173921531,-7738163397692807742], (-7638782544614189435,-7614437885317847664], (-7393663410707884630,-7377354659569696330], (-333456872684760039,-312563096043365226], (-4553983430472750024,-4530558036231234820], (-2224433869722889925,-2201568253184716639], (6875148634804889514,6894350877688267102], (8630608477956533718,8663963448265826772], (-3504842032272186641,-3478138851943967139], (-8209114988054604594,-8189232318727004927], (4511320918009908979,4525470443762551442], (-5122726023980819387,-5097550611825856995], (-2427711169530862358,-2411782469158460273], (8026631366682379325,8049628396999047242], (-1383751720274112451,-1359138176986672113], (-708795184227927263,-680745259806971856], (3873979743704351806,3890275010262299516], (-2671377592409383772,-2652370187103332700], (632050643764341326,654414407757950735], (-9082722220616111881,-9054354160557615682], (-8189232318727004927,-8166592508908959641], (-5882327929594740442,-5868569411531217089], (-3834865767553124776,-3814932522234967967], (1531479749455442506,1557308877224986437], (5200956198693712343,5216054528040139850], (-7864808613980958500,-7830648462325856831], (-5924190403993695339,-5905281590656688410], (831819753310119187,850470091104573059], (-3913049009986424696,-3887451597355057730], (690944799932156514,716023038888742253], (-3781778621934974124,-3757803903555491326], (7487314818622030912,7505922001432028869], (-5675683022377260881,-5642671205285867751], (-2557412623619224058,-2530264208022671358], (-6260197835835043179,-6237556807461034163], (-4972921673253515141,-4946794168666242608], (-2757455413059077244,-2733139276045967665], (4008882550143829561,4037185497272521089], (-1461821689063467195,-1435446550869042065], (6704975510038523312,6730395375245420574], (7397628087743519887,7432307989071137263], (-483474121147131833,-463031250452423240], (-63764537966482638,-46421905694596327], (-4507029093306564171,-4490869070159184473], (1071437075035031174,1098991707334032806], (5406446972399695346,5421925728805509695], (-680745259806971856,-647794465203978049], (732254204485534303,761500453969472888], (-6075268156096508387,-6046942297448837954], (5155610407571741580,5176907785382278687], (-20469095501906308,-639226247135336], (1414644198324926748,1433635739728390285], (8982169737879706287,9000170912608215411], (-8051765600502935550,-8022390349725426631], (5754973514941615760,5775432363831008138], (-5733883931340551488,-5701161911173669397], (-8611952869196141447,-8589572800434721761], (4056058277079595542,4078504840358039809], (-2293584958784690084,-2261669159265405749], (4787868116754744159,4808709513485191526], (-5308808128703366148,-5285421732708263650], (-7887692307749440622,-7864808613980958500], (3922635274816675965,3947183665411474119], (-4751684632266777803,-4723305184343724280], (-957012060983924635,-936091980390404456], (2746596554530616478,2772003076912233936], (-5905281590656688410,-5882327929594740442], (1295264515958314913,1311280420662659502], (1726667088894252719,1758859103987108020], (-1660074108839711827,-1636414803105298996], (1165187470531249438,1200656734320837523], (-6568486905726013021,-6549305047234826360], (5176907785382278687,5200956198693712343], (2772003076912233936,2790939367494706921], (-6800111138190465542,-6770387336333026315], (2307290645283001317,2329928388044100712], (3202713646174772565,3228268798811696735], (-7652925286849534526,-7638782544614189435], (-2128043381219721832,-2111938774691212677], (-4926156795654782249,-4903855381748905555], (-8765796981827657914,-8744182688537741306], (-4857839330781069377,-4835587039113045510], (3248856564955265318,3278200733705186094], (6351677556928806908,6369288457991810721], (-1784119801116710523,-1767709781152597809], (4579472903582642404,4598027775733625807], (4078504840358039809,4092700651056424945], (8375671855212659517,8396963972717262532], (359073694645837535,394503443597687265], (-2069384599822985349,-2035898903036640372], (3114305847733735111,3130111445140991220], (-199396195925608087,-182093002801941797], (3759118185689083684,3786260027138575388], (-6323225938242345488,-6288457474373464258], (449975298409477334,468538461551106993], (-4313015687421639590,-4290055286293453424], (2014733551674648102,2037417124779456862], (9035004896277251542,9066606233549977317], (-4610303579120513103,-4587696461212180415], (886949396899801860,911194185673182778], (-1500322329457741428,-1484811814247857310], (-2584970117221283828,-2557412623619224058], (-8405785515732382711,-8387173885271997239], (-4587696461212180415,-4553983430472750024], (8156983313712109537,8183303949135584801], (-8903761263253074034,-8871677719089698698], (-7102653171504969109,-7083312220517558684], (-4903855381748905555,-4889855826051818836], (-6206352462649133325,-6185641991908254317], (-4290055286293453424,-4272053918950867461], (-2015306293848205268,-1999486830687081759], (5550908000523602127,5565389085099740911], (-4835587039113045510,-4813172887718614764], (2290798898057286441,2307290645283001317], (2846453389357586551,2880596484336912753], (-7529157722536376091,-7510797514109171455], (-2878686954193748551,-2845206117797278991], (1116638295973878610,1143748085302412949], (-7713535423341397480,-7690971147782181801], (-2982213247000793148,-2963892933382949137], (2202646030878793325,2217219773147862014], (-7458461389069616585,-7433421248192125745], (-3446358448389999407,-3422165012987594938], (-3052251662190328280,-3035927776223202340], (-4417634860497124131,-4388115223091800991], (-7433421248192125745,-7416475840289102821], (-3680104240203935825,-3658080833127403524], (6808506929969688201,6823528249186532699], (8580928020027829463,8597713907796586651], (-4693991898275774366,-4672949383368976004], (4193106619537910374,4220565050917199580], (7846044400142111607,7863577200264354313], (-3866932734407246660,-3834865767553124776], (6607366394136509117,6625188088282976058], (5067964443350984203,5088948908177477709], (8011453970633117812,8026631366682379325], (8285286768971291474,8300946941669794589], (3487125150310984925,3515898104801491442], (-6185641991908254317,-6162588343842251428], (8956993001257465102,8982169737879706287], (-7690971147782181801,-7675058480430123263], (204817435808169926,231504213684957088], (-8490304213503799053,-8455847693893577378], (-7132000696869827595,-7102653171504969109], (-5785686705878473284,-5767209720930958813], (2489621219351045558,2507093721737365189], (-1274582979747015743,-1244728958251217502], (3065711929446789459,3091780617058872414], (-7377354659569696330,-7353096643021611370], (5038236983529550375,5067964443350984203], (-3267428523526675658,-3232423662766766577], (668686492343083368,690944799932156514], (-6106816029254084707,-6075268156096508387], (5888289322159511738,5913358432068184402], (654414407757950735,668686492343083368], (6849908557466023555,6875148634804889514], (-5352692878691246204,-5325376174500544075], (-3422165012987594938,-3388866050591282138], (6750692248536778081,6786099851660906318], (9119341815009738088,9137340579640861935], (-2240910226442261239,-2224433869722889925], (5479364730562838028,5497517950983189236], (-936091980390404456,-901739726881311650], (-6549305047234826360,-6518072642089650161], (-1571458763648339616,-1553032037605511317], (-257316900285623738,-222487794408820162], (-6486385175704767686,-6466391338066041465], (-3078395443347133380,-3052251662190328280], (-834677883025832389,-803420455117264157], (2685510041379974482,2706685288400481001], (7800083846652591916,7821110906882479401], (2353891486990396606,2371825224843999729], (4220565050917199580,4251436670759466956], (8300946941669794589,8326394090059271528], (2970369575150350267,2992156665348626986], (1704915968077065347,1726667088894252719], (2249928459873188052,2269590071496667552], (5342915529049707116,5368620985135498194], (1982147524570134359,2014733551674648102], (2658764744444677137,2685510041379974482], (9172801370594217185,9195713200570400229], (4469976701373835206,4488901621294515253], (-5266994071006691085,-5238030252481456520], (-6876975950274274175,-6862701161478560314], (7316162313379262041,7330865196311916415], (-3232423662766766577,-3210108473089573222], (-153431847559005242,-117621605436913391], (-8967741411988564911,-8943868292403129337], (-1359138176986672113,-1334442617927733223], (2428800085409406804,2449770370736671024], (7902751184151541923,7929281364913625213], (-2201568253184716639,-2171360762772963386], (-2448107136780783982,-2427711169530862358], (-6814639894950859197,-6800111138190465542], (-6690289970727015618,-6672988121929858899], (6005523115137304939,6028394667808825073], (7767989590722755341,7800083846652591916], (786671306776285831,803922502444708032], (5421925728805509695,5451545565320736011], (1922207348242786771,1944451602422509115], (2880596484336912753,2903204006403936642], (6028394667808825073,6042095724755045385], (-6939363256873132111,-6915026336404933895], (2131213029834739752,2159797746132005995], (5451545565320736011,5479364730562838028], (5812773253415621572,5828426565751966264], (-8306578460036798931,-8282901663097049914], (-8079070959907002552,-8051765600502935550], (-1714452614602486968,-1694841726110205662], (2068877490877597203,2093350214204108416], (4647064084846105459,4681346025299448562], (9195713200570400229,9212514047802772461], (8465092006395153788,8480576609418778068], (6199254103900717869,6232899043921854232], (-89956923226902912,-63764537966482638], (5318564429834707788,5342915529049707116], (6322780790017821416,6351677556928806908], (-2600145205060265973,-2584970117221283828], (871088172294181279,886949396899801860], (6255339954989031655,6277164445616862969], (543823931188426250,576151007886045328], (-2111938774691212677,-2086137221677644571], (3985049964433782102,4008882550143829561], (3695228267462128255,3719280380994142092], (7292727737015737615,7316162313379262041], (7371881769025920761,7397628087743519887], (5588319770235029327,5610140008054724023], (7196370971599393536,7212360056732101797], (3588268770687162361,3612123845555909072], (-9036819213488799941,-9004408434047444204], (-3007540093255012913,-2982213247000793148], (6143041914858349759,6164695609757976179], (7694490338567078101,7722614846350070515], (-2493145826795113906,-2477233786926543208], (-8589572800434721761,-8554382902492540885], (-4490869070159184473,-4463625068730757748], (5913358432068184402,5935240770063423216], (4037185497272521089,4056058277079595542], (-2261669159265405749,-2240910226442261239], (-1596304480692753803,-1571458763648339616], (-879714276536468635,-864014078325511482], (231504213684957088,261624695041962416], (468538461551106993,493747641477340013], (-8266567563860790794,-8238705417231725023], (-3035927776223202340,-3007540093255012913], (2093350214204108416,2116908061577019281], (-1070070808750836056,-1054371339849528776], (5088948908177477709,5122044544990630999], (1672425173105940076,1704915968077065347], (513749289996019017,543823931188426250], (-5642671205285867751,-5618580850411382539], (-1917488254797609585,-1894623770003665706], (-1118418313746937925,-1093411511377187991], (1143748085302412949,1165187470531249438], (5264315018737853502,5280391758941356472], (2565234707888507850,2586394350286966172], (3968273501050129374,3985049964433782102], (1468794019089015771,1491749848564515578], (-7974992511658690812,-7952698995457794820], (5679804512548409138,5698841119077789537], (-4530558036231234820,-4507029093306564171], (-1484811814247857310,-1461821689063467195], (261624695041962416,281100607880832137], (-5192044476481732371,-5157536680891177079], (-1029742927974528298,-1007359761903323175], (-1193275823411534563,-1160356493515543975], (4628195533310714496,4647064084846105459], (-401178138202754329,-386676653570074969], (8396963972717262532,8413940658403350004], (7657133425261014038,7680501477926675732], (7629476310088030094,7657133425261014038], (-8554382902492540885,-8530112745389910501], (-8096430524206535577,-8079070959907002552], (3170370153372807780,3202713646174772565], (32310746135021489,59006080778100794], (2916963774108556173,2940852561791884836], (5216054528040139850,5240504723771604977], (-1838709185422237676,-1807333220832310510], (-6615999166593920373,-6597444631461003150], (-5618580850411382539,-5594424818708057623], (308872054376268675,325782936364120471], (-7592714424295499463,-7578332339408290833], (8847642870733774865,8869694142055754287], (-2622018036637070975,-2600145205060265973], (3852838213654702168,3873979743704351806], (-8342018156145146465,-8306578460036798931], (6420536839648907303,6441033303863194144], (4251436670759466956,4275349028276961743], (5303337346119182935,5318564429834707788], (-5701161911173669397,-5675683022377260881], (7032925564627675259,7068421557431566025], (3091780617058872414,3114305847733735111], (4379095351486650964,4401742404051308948], (576151007886045328,596210156289752651], (-3757803903555491326,-3741840695568449977], (5012932790843751006,5038236983529550375], (-8920858369143364770,-8903761263253074034], (7330865196311916415,7354698608428117293], (-3547360768399475973,-3521824634625080011], (-447031329562796457,-424982738715566433], (2722785408633382510,2746596554530616478], (8788457611472427979,8824019075325327724], (-4272053918950867461,-4240326378217139806], (-1878588302191042974,-1856142036520110378], (-8729479255403991072,-8701017207987052380], (6164695609757976179,6199254103900717869], (8202356099675161490,8225368781208554193], (-2386884128512053026,-2360373226916965506], (8597713907796586651,8630608477956533718], (8240718798527304857,8263670173890897454], (-639226247135336,32310746135021489], (3805575696471876315,3833842933748300743], (3947183665411474119,3968273501050129374], (-8149796951038737797,-8118150707585508329], (7354698608428117293,7371881769025920761], (929488462461678335,960856950289151325], (-361813258412489658,-333456872684760039], (-5767209720930958813,-5733883931340551488], (-2652370187103332700,-2622018036637070975], (6084939896357919298,6113992864755129914], (8824019075325327724,8847642870733774865], (-1553032037605511317,-1522446211038864335], (-6341557809332784037,-6323225938242345488], (-3741840695568449977,-3715760342851124267], (1383783669974211858,1414644198324926748], (5650800272257641327,5679804512548409138], (6894350877688267102,6925744525567587444], (8413940658403350004,8440250751851223611], (7680501477926675732,7694490338567078101], (7242683478475373017,7272658053722859231], (7863577200264354313,7886728542169403373], (4855509595638332447,4878343704387011714], (2824056950532458517,2846453389357586551], (-2733139276045967665,-2711902361151333347], (-2711902361151333347,-2697031855684631730], (-7353096643021611370,-7326219484975432659], (5565389085099740911,5588319770235029327], (2037417124779456862,2068877490877597203], (6925744525567587444,6956042068080047025], (7068421557431566025,7090557940364446244], (-5071129486454225210,-5051928210685110900], (-864014078325511482,-834677883025832389], (6369288457991810721,6398698869329516174], (-2086137221677644571,-2069384599822985349], (-647794465203978049,-624055211337282404], (-9004408434047444204,-8983780564986606369], (-3367336908205512526,-3343181219042215596], (-8943868292403129337,-8920858369143364770], (-8824920091300381132,-8790113365098591577], (8480576609418778068,8507495024888957513], (4115990644672833856,4141814931975842892], (-4444967579591903117,-4417634860497124131], (-5982020481705586143,-5952785288516897221], (-6770387336333026315,-6737217366783800704], (-6288457474373464258,-6260197835835043179], (5240504723771604977,5264315018737853502], (6674664235513781581,6704975510038523312], (-6672988121929858899,-6644543713981867022], (960856950289151325,988071962613352938], (-3521824634625080011,-3504842032272186641], (2706685288400481001,2722785408633382510], (3568929878615931069,3588268770687162361], (-7013852258695076788,-6990848890137000667], (6232899043921854232,6255339954989031655], (-1999486830687081759,-1975038999321791096], (-3138744957737529878,-3116862024779736602], (6558065066558453507,6584502254719163703], (-6162588343842251428,-6148214569193507584], (-1317544652393502606,-1292358386129870200], (2217219773147862014,2249928459873188052], (1098991707334032806,1116638295973878610], (-3167951815495000789,-3138744957737529878], (6584502254719163703,6607366394136509117], (1894143489878594651,1922207348242786771], (6113992864755129914,6143041914858349759], (4298140595298259623,4315045677064372744], (6042095724755045385,6066590494481879764], (7965154015507968791,7988447015702389579], (8225368781208554193,8240718798527304857], (3734898512469099791,3759118185689083684], (5497517950983189236,5529154427291501877], (5775432363831008138,5791408311797776836], (-5051928210685110900,-5022212476260017259], (-4388115223091800991,-4364791251585636876], (-3095302739009809795,-3078395443347133380], (7458859735224040273,7487314818622030912], (-1292358386129870200,-1274582979747015743], (2116908061577019281,2131213029834739752], (-782291914320674390,-749362464026744888], (-5868569411531217089,-5847791552449069627], (9137340579640861935,9172801370594217185], (8663963448265826772,8689084307641880337], (5610140008054724023,5626480853575959136], (8049628396999047242,8063622066473170346], (-5411866456022301463,-5378576502650838113], (1336739275033469840,1356530915867689407], (-5453754292924242771,-5438010685324977163], (-4334344066600876172,-4313015687421639590], (9066606233549977317,9092039291958334280], (6956042068080047025,6979553109136625667], (-3326070088683319321,-3291086421815757362], (3130111445140991220,3154427821039204900], (-4148417703076163464,-4119405159309742920], (-5578915630113033500,-5543728772096563838], (76543065513068027,108047603892181258], (5368620985135498194,5384445046177224916], (-8507693816265187740,-8490304213503799053], (5122044544990630999,5155610407571741580], (7212360056732101797,7242683478475373017], (-9209301746200508995,-9180010922984470575], (8771655398989052114,8788457611472427979], (2159797746132005995,2181023621445323231], (-6369513872891448718,-6341557809332784037], (-546468140534178824,-526233928284445666], (-1975038999321791096,-1941252636314187084], (6543210403896330971,6558065066558453507], (-3116862024779736602,-3095302739009809795], (-2340770858486155791,-2311430312693414496], (-2792357805226534646,-2757455413059077244], (2181023621445323231,2202646030878793325], (-4219175891475919376,-4184532430885049284], (4417576468388693586,4445519703403680450], (-312563096043365226,-281577642807610773], (5791408311797776836,5812773253415621572], (4878343704387011714,4892051308477300480], (-6046942297448837954,-6029185868729897269], (4553030224600771090,4579472903582642404], (-580396920477348372,-546468140534178824], (-5097550611825856995,-5071129486454225210], (1311280420662659502,1336739275033469840], (4092700651056424945,4115990644672833856], (-6597444631461003150,-6568486905726013021], (-1894623770003665706,-1878588302191042974], (8263670173890897454,8285286768971291474], (6823528249186532699,6849908557466023555], (7613908949116911032,7629476310088030094], (-8003492535365065255,-7974992511658690812], (8709598044829081824,8725790109259500528], (-424982738715566433,-401178138202754329], (-2530264208022671358,-2513613790322616948], (-5847791552449069627,-5832183858573851457], (7106081410176703418,7132485880009069805], (-749362464026744888,-726589963048163611], (1043775642655936056,1071437075035031174], (-1694841726110205662,-1660074108839711827], (3652706003158509855,3667708407583553246], (-6002614390426520298,-5982020481705586143], (3278200733705186094,3308095059840966801], (7132485880009069805,7155514068590728177], (7886728542169403373,7902751184151541923], (-6862701161478560314,-6838318208848190880], (-2902195478689817525,-2878686954193748551], (-8871677719089698698,-8843135092970418854], (-4463625068730757748,-4444967579591903117], (-1093411511377187991,-1070070808750836056], (2538737431901109582,2565234707888507850], (2329928388044100712,2353891486990396606], (7555304327172959427,7576440397979042284], (59006080778100794,76543065513068027], (1356530915867689407,1383783669974211858], (7929281364913625213,7965154015507968791], (2790939367494706921,2824056950532458517], (-5522555822408121776,-5496973224074833733], (-901739726881311650,-879714276536468635], (8910222749418113823,8939451912428578243], (-2477233786926543208,-2448107136780783982], (3786260027138575388,3805575696471876315], (5384445046177224916,5406446972399695346], (-6990848890137000667,-6959598130478518496], (1239098074018926030,1269286138332714922], (1507237979397617145,1531479749455442506], (-8644322051793564381,-8611952869196141447], (493747641477340013,513749289996019017], (-1334442617927733223,-1317544652393502606], (-597781813067408469,-580396920477348372], (4275349028276961743,4298140595298259623], (6066590494481879764,6084939896357919298], (-9180010922984470575,-9158008960179080446], (-5477070472737587646,-5453754292924242771], (-3975390461309045867,-3953099858742203859], (-5832183858573851457,-5808911876950946164], (-6644543713981867022,-6615999166593920373], (-6737217366783800704,-6716573907522900293], (-8744182688537741306,-8729479255403991072], (-7171155931173084486,-7149501831669292460], (-7326219484975432659,-7305123709427155558], (-1435446550869042065,-1417202847867394404], (-1054371339849528776,-1029742927974528298], (596210156289752651,632050643764341326], (8750161829046567666,8771655398989052114], (-500460186898693295,-483474121147131833], (-117621605436913391,-89956923226902912], (6441033303863194144,6456453738558164340], (-1007359761903323175,-991830587241436841], (1577852799721216574,1613034783341659344], (803922502444708032,831819753310119187], (419850619990049963,449975298409477334], (-7305123709427155558,-7274287620528326219], (-9111376806111237120,-9082722220616111881], (-4796713787513749553,-4768613618844019714], (3628374599028101328,3652706003158509855], (-7049209306112215135,-7013852258695076788], (-991830587241436841,-957012060983924635], (-4184532430885049284,-4164233156066443101], (-624055211337282404,-597781813067408469], (7592075626874117826,7613908949116911032], (-1160356493515543975,-1134599922277966915], (1843433525916367699,1871805963987877337], (9000170912608215411,9035004896277251542], (-6838318208848190880,-6814639894950859197], (325782936364120471,359073694645837535], (2449770370736671024,2464675231957003694], (7988447015702389579,8011453970633117812], (8869694142055754287,8886693894554314881], (-3658080833127403524,-3637127163824375496], (-463031250452423240,-447031329562796457], (1433635739728390285,1468794019089015771], (-1739302547503911452,-1714452614602486968], (3408403464723168851,3436113669113839852], (8063622066473170346,8093478662532768068], (-8843135092970418854,-8824920091300381132], (7533814339455490829,7555304327172959427], (-7478696321925477665,-7458461389069616585], (-5238030252481456520,-5210866511354554702], (3032833286638363997,3065711929446789459], (-6466391338066041465,-6444409536057083321], (850470091104573059,871088172294181279], (1790089214190801626,1810701435010788098], (-4889855826051818836,-4857839330781069377], (3457730620340017730,3487125150310984925], (-2845206117797278991,-2824792320821837126], (-6427842875330982411,-6407344212408103844], (-5594424818708057623,-5578915630113033500], (-4000590553338512968,-3975390461309045867], (4401742404051308948,4417576468388693586], (-3938686326969606891,-3913049009986424696], (8130608164738132753,8156983313712109537], (-7554918003586722974,-7529157722536376091], (-8455847693893577378,-8432745001828718677], (-4240326378217139806,-4219175891475919376], (8507495024888957513,8527556401517686904], (-5285421732708263650,-5266994071006691085], (-4087700731253804126,-4067035865635695033], (7505922001432028869,7533814339455490829], (-3715760342851124267,-3680104240203935825], (-726589963048163611,-708795184227927263], (761500453969472888,786671306776285831], (394503443597687265,419850619990049963], (-7416475840289102821,-7393663410707884630], (-5022212476260017259,-4991985762050115651], (-5496973224074833733,-5477070472737587646], (-1767709781152597809,-1739302547503911452], (2507093721737365189,2538737431901109582], (-7952698995457794820,-7917256887100022007], (-9158008960179080446,-9130642861896935996], (-526233928284445666,-500460186898693295], (-4164233156066443101,-4148417703076163464], (988071962613352938,1008845200014039095], (-4768613618844019714,-4751684632266777803], (-2035898903036640372,-2015306293848205268], (1224483676084840138,1239098074018926030], (-3637127163824375496,-3620288473496590469], (5950883285960859579,5981484596598680206], (-6122783377503650612,-6106816029254084707], (-6148214569193507584,-6122783377503650612], (-3814932522234967967,-3781778621934974124], (1269286138332714922,1295264515958314913], (4315045677064372744,4335872841383969671], (8556159314373138090,8580928020027829463], (-4119405159309742920,-4087700731253804126], (716023038888742253,732254204485534303], (3357045465269209998,3374075430159112072], (-4723305184343724280,-4693991898275774366], (-3953099858742203859,-3938686326969606891], (6456453738558164340,6477004254419780618], (-6391902200360922246,-6369513872891448718], (2586394350286966172,2620265339858136927], (-7083312220517558684,-7049209306112215135], (1008845200014039095,1043775642655936056]] finished (progress: 0%)
[2024-04-28 17:40:01,124] Repair completed successfully
[2024-04-28 17:40:01,127] Repair command #1 finished in 18 seconds
[2024-04-28 17:40:01,147] condition satisfied queried for parent session status and discovered repair completed.
[2024-04-28 17:40:01,147] Repair completed successfully
```

```bash
 kubectl get nodes --show-labels
NAME                           STATUS   ROLES                       AGE   VERSION        LABELS
k3d-test-assignment-agent-0    Ready    <none>                      10m   v1.28.8+k3s1   beta.kubernetes.io/arch=amd64,beta.kubernetes.io/instance-type=k3s,beta.kubernetes.io/os=linux,kubernetes.io/arch=amd64,kubernetes.io/hostname=k3d-test-assignment-agent-0,kubernetes.io/os=linux,node.kubernetes.io/instance-type=k3s,type=worker
k3d-test-assignment-agent-1    Ready    <none>                      10m   v1.28.8+k3s1   beta.kubernetes.io/arch=amd64,beta.kubernetes.io/instance-type=k3s,beta.kubernetes.io/os=linux,kubernetes.io/arch=amd64,kubernetes.io/hostname=k3d-test-assignment-agent-1,kubernetes.io/os=linux,node.kubernetes.io/instance-type=k3s,type=worker
k3d-test-assignment-agent-2    Ready    <none>                      10m   v1.28.8+k3s1   beta.kubernetes.io/arch=amd64,beta.kubernetes.io/instance-type=k3s,beta.kubernetes.io/os=linux,kubernetes.io/arch=amd64,kubernetes.io/hostname=k3d-test-assignment-agent-2,kubernetes.io/os=linux,node.kubernetes.io/instance-type=k3s,type=worker
k3d-test-assignment-server-0   Ready    control-plane,etcd,master   11m   v1.28.8+k3s1   beta.kubernetes.io/arch=amd64,beta.kubernetes.io/instance-type=k3s,beta.kubernetes.io/os=linux,kubernetes.io/arch=amd64,kubernetes.io/hostname=k3d-test-assignment-server-0,kubernetes.io/os=linux,node-role.kubernetes.io/control-plane=true,node-role.kubernetes.io/etcd=true,node-role.kubernetes.io/master=true,node.kubernetes.io/instance-type=k3s,type=control
k3d-test-assignment-server-1   Ready    control-plane,etcd,master   11m   v1.28.8+k3s1   beta.kubernetes.io/arch=amd64,beta.kubernetes.io/instance-type=k3s,beta.kubernetes.io/os=linux,kubernetes.io/arch=amd64,kubernetes.io/hostname=k3d-test-assignment-server-1,kubernetes.io/os=linux,node-role.kubernetes.io/control-plane=true,node-role.kubernetes.io/etcd=true,node-role.kubernetes.io/master=true,node.kubernetes.io/instance-type=k3s,type=control
k3d-test-assignment-server-2   Ready    control-plane,etcd,master   10m   v1.28.8+k3s1   beta.kubernetes.io/arch=amd64,beta.kubernetes.io/instance-type=k3s,beta.kubernetes.io/os=linux,kubernetes.io/arch=amd64,kubernetes.io/hostname=k3d-test-assignment-server-2,kubernetes.io/os=linux,node-role.kubernetes.io/control-plane=true,node-role.kubernetes.io/etcd=true,node-role.kubernetes.io/master=true,node.kubernetes.io/instance-type=k3s,type=control
```

```bash
 kubectl get pods --output wide
NAME          READY   STATUS    RESTARTS   AGE     IP          NODE                          NOMINATED NODE   READINESS GATES
cassandra-0   1/1     Running   0          9m45s   10.42.4.3   k3d-test-assignment-agent-1   <none>           <none>
cassandra-1   1/1     Running   0          8m23s   10.42.5.3   k3d-test-assignment-agent-2   <none>           <none>
cassandra-2   1/1     Running   0          7m1s    10.42.3.3   k3d-test-assignment-agent-0   <none>           <none>
```

```bash
#  marknode as unschedulable, preventing new pods from being scheduled
 kubectl cordon k3d-test-assignment-agent-1
node/k3d-test-assignment-agent-1 cordoned
```

```bash
#This works without cordoning
kubectl drain k3d-test-assignment-agent-1 --ignore-daemonsets --delete-emptydir-data
node/k3d-test-assignment-agent-1 already cordoned
Warning: ignoring DaemonSet-managed Pods: kube-system/svclb-traefik-cef75b7a-799df
evicting pod cassandra/cassandra-0
pod/cassandra-0 evicted
node/k3d-test-assignment-agent-1 drained
```

```bash
 k3d node delete k3d-test-assignment-agent-1
INFO[0000] Successfully deleted 1 node(s)!
```

```bash
kubectl delete node node/k3d-test-assignment-agent-1
node "k3d-test-assignment-agent-1" deleted
```

```bash
 k3d node list
NAME                           ROLE           CLUSTER           STATUS
k3d-test-assignment-agent-0    agent          test-assignment   running
k3d-test-assignment-agent-2    agent          test-assignment   running
k3d-test-assignment-server-0   server         test-assignment   running
k3d-test-assignment-server-1   server         test-assignment   running
k3d-test-assignment-server-2   server         test-assignment   running
k3d-test-assignment-serverlb   loadbalancer   test-assignment   running
```

```bash
 kubectl get nodes
NAME                           STATUS   ROLES                       AGE   VERSION
k3d-test-assignment-agent-0    Ready    <none>                      19m   v1.28.8+k3s1
k3d-test-assignment-agent-2    Ready    <none>                      19m   v1.28.8+k3s1
k3d-test-assignment-server-0   Ready    control-plane,etcd,master   20m   v1.28.8+k3s1
k3d-test-assignment-server-1   Ready    control-plane,etcd,master   20m   v1.28.8+k3s1
k3d-test-assignment-server-2   Ready    control-plane,etcd,master   19m   v1.28.8+k3s1
```

```bash
# When cassandra cluster was created we prevented 2 pods being scheduled on the same node
 kubectl get pods -o wide
NAME          READY   STATUS    RESTARTS   AGE     IP          NODE                          NOMINATED NODE   READINESS GATES
cassandra-0   1/1     Running   0          20m     10.42.5.4   k3d-test-assignment-agent-0   <none>           <none>
cassandra-1   1/1     Running   0          18m     10.42.4.3   k3d-test-assignment-agent-2   <none>           <none>
cassandra-2   0/1     Pending   0          3m56s   <none>      <none>                        <none>           <none>
```

```bash
 kubectl exec pod/cassandra-1 -- nodetool status
Datacenter: datacenter1
=======================
Status=Up/Down
|/ State=Normal/Leaving/Joining/Moving
--  Address    Load        Tokens  Owns (effective)  Host ID                               Rack
DN  10.42.3.3  105.62 KiB  256     100.0%            367c0270-c782-4cfd-9ac0-83232b351f30  rack1
UN  10.42.4.3  105.6 KiB   256     100.0%            adc3daa4-132e-43da-aa73-b40dc2575f81  rack1
UN  10.42.5.4  105.71 KiB  256     100.0%            2ada8bf2-12dd-49db-a891-2c6fcb5d0167  rack1
```
```bash
cassandra@cqlsh:store> SELECT * FROM shopping_cart;

 userid | item_count | last_update_timestamp
--------+------------+---------------------------------
  Brian |        567 | 2024-04-28 17:37:48.950000+0000
  James |        233 | 2024-04-28 17:37:27.166000+0000
   Alex |        124 | 2024-04-28 17:37:39.900000+0000
```

```bash
k3d node create test-assignment-newagent --role agent --cluster test-assignment
INFO[0000] Adding 1 node(s) to the runtime local cluster 'test-assignment'...
INFO[0000] Using the k3d-tools node to gather environment information
INFO[0000] Starting new tools node...
INFO[0000] Starting node 'k3d-test-assignment-tools'
INFO[0000] HostIP: using network gateway 172.24.0.1 address
INFO[0000] Starting node 'k3d-test-assignment-newagent-0'
INFO[0003] Successfully created 1 node(s)!
```
```bash
 k3d node list
NAME                             ROLE           CLUSTER           STATUS
k3d-test-assignment-agent-0      agent          test-assignment   running
k3d-test-assignment-agent-2      agent          test-assignment   running
k3d-test-assignment-newagent-0   agent          test-assignment   running
k3d-test-assignment-server-0     server         test-assignment   running
k3d-test-assignment-server-1     server         test-assignment   running
k3d-test-assignment-server-2     server         test-assignment   running
k3d-test-assignment-serverlb     loadbalancer   test-assignment   running
```

```bash
 kubectl get nodes
NAME                             STATUS   ROLES                       AGE   VERSION
k3d-test-assignment-agent-0      Ready    <none>                      23m   v1.28.8+k3s1
k3d-test-assignment-agent-2      Ready    <none>                      23m   v1.28.8+k3s1
k3d-test-assignment-newagent-0   Ready    <none>                      16s   v1.28.8+k3s1
k3d-test-assignment-server-0     Ready    control-plane,etcd,master   23m   v1.28.8+k3s1
k3d-test-assignment-server-1     Ready    control-plane,etcd,master   23m   v1.28.8+k3s1
k3d-test-assignment-server-2     Ready    control-plane,etcd,master   23m   v1.28.8+k3s1
```

```bash
 kubectl get pods --output wide
NAME          READY   STATUS    RESTARTS   AGE     IP          NODE                             NOMINATED NODE   READINESS GATES
cassandra-0   1/1     Running   0          24m     10.42.5.4   k3d-test-assignment-agent-0      <none>           <none>
cassandra-1   1/1     Running   0          23m     10.42.4.3   k3d-test-assignment-agent-2      <none>           <none>
cassandra-2   1/1     Running   0          8m22s   10.42.6.3   k3d-test-assignment-newagent-0   <none>           <none>
```

```bash
 kubectl exec pod/cassandra-1 -- nodetool status
Datacenter: datacenter1
=======================
Status=Up/Down
|/ State=Normal/Leaving/Joining/Moving
--  Address    Load        Tokens  Owns (effective)  Host ID                               Rack
UN  10.42.6.3  73.67 KiB   256     74.9%             4f9d8af3-6a3c-4e19-9657-44e121e75e2f  rack1
UN  10.42.5.3  105.64 KiB  256     74.8%             4e63dc18-6870-4ce4-b3fc-6a802794815e  rack1
UN  10.42.3.3  105.59 KiB  256     75.5%             b3fd4fe9-a9b2-44a6-b826-fe0d1d99df2d  rack1
DN  10.42.4.3  105.65 KiB  256     74.9%             e548c921-c108-4a63-a41e-35aae0e85920  rack1
```

```bash
 kubectl exec pod/cassandra-1 -- nodetool removenode 367c0270-c782-4cfd-9ac0-83232b351f30
```

```bash
 kubectl exec pod/cassandra-1 -- nodetool status
Datacenter: datacenter1
=======================
Status=Up/Down
|/ State=Normal/Leaving/Joining/Moving
--  Address    Load        Tokens  Owns (effective)  Host ID                               Rack
UN  10.42.6.3  73.65 KiB   256     100.0%            8e103882-0fba-4bce-94aa-2cff065a5e06  rack1
UN  10.42.4.3  194.96 KiB  256     100.0%            adc3daa4-132e-43da-aa73-b40dc2575f81  rack1
UN  10.42.5.4  105.71 KiB  256     100.0%            2ada8bf2-12dd-49db-a891-2c6fcb5d0167  rack1

```

```bash
cassandra@cqlsh:store> SELECT * FROM shopping_cart;

 userid | item_count | last_update_timestamp
--------+------------+---------------------------------
  Brian |        567 | 2024-04-28 17:37:48.950000+0000
  James |        233 | 2024-04-28 17:37:27.166000+0000
   Alex |        124 | 2024-04-28 17:37:39.900000+0000

(3 rows)
```
